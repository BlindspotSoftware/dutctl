---
version: 0
devices:
  example-device:
    desc: "Example device demonstrating file module capabilities"
    cmds:
      # Upload with colon syntax (no destination configured)
      upload-file:
        desc: "Upload file using colon syntax to specify both paths"
        modules:
          - module: file
            main: true
            options:
              operation: "upload"
      # Usage: dutctl example-device upload-file ./local.bin:/tmp/remote.bin

      # Upload with fixed destination (colon syntax ignored)
      upload-firmware:
        desc: "Upload firmware to a fixed destination"
        modules:
          - module: file
            main: true
            options:
              operation: "upload"
              destination: "/tmp/firmware.bin"
              overwrite: true
              permission: "0644"
      # Usage: dutctl example-device upload-firmware ./firmware.bin
      # Note: Colon syntax is ignored when destination is configured

      # Upload script with directory creation and executable permissions
      upload-script:
        desc: "Upload executable script, creating directories as needed"
        modules:
          - module: file
            main: true
            options:
              operation: "upload"
              destination: "/opt/scripts/install.sh"
              forcedir: true
              overwrite: true
              permission: "0755"
      # Usage: dutctl example-device upload-script ./scripts/install.sh

      # Download with colon syntax
      download-file:
        desc: "Download file using colon syntax"
        modules:
          - module: file
            main: true
            options:
              operation: "download"
      # Usage: dutctl example-device download-file /var/log/app.log:./logs/app.log

      # Download with fixed destination
      fetch-logs:
        desc: "Download logs to a fixed destination"
        modules:
          - module: file
            main: true
            options:
              operation: "download"
              destination: "./logs/dut.log"
      # Usage: dutctl example-device fetch-logs /var/log/dut.log
